<!doctype html>
<html>
  <head>
    <title>Clearly</title>
    <meta charset="utf-8" />
    <script src="/jquery.js"></script>
    <script src="/clearly.js"></script>
    <script>
      $(document).ready(function() {
        $.extend(window, $Clearly);
        $Clearly = window;
        $Clearly.load();
      });
    </script>
    <link href="/style.css" rel="stylesheet" type="text/css">
  </head>
  <body>
    <h1>Clearly</h1>
    <section>
    <p><span style="font-family:Lobster">Clearly</span> is a <em>programmable structured text editor</em> implemented as a JavaScript library. If you ever hacked in JavaScript, you can go and fork its <a href="https://github.com/mafik/Clearly#readme">GitHub repository</a> (yay - it's open-source!). Of course you don't need any programming experience to use it. This tutorial will explain you everything you need to know :)</p>
    <p>First of all - you need to know where are your documents going when you edit document. The answer is: <em>nowhere</em>. They are saved inside your browser in area accessible only to script from <code>clearly.pl</code>. They are accessible even if the <code>clearly.pl</code> is down and all of your documents can be easily exported (specialized export tools coming!). It means that, despite using internet browser, all your data is saved on your computer.</p>
    <p>Second thing is - stop worrying about saving the document. All the changes you make are saved instantly after a key has been pressed. Whole document is stored in your browser, remember? If you want to make some major changes you can save your document in a backup (<code>[Ctrl + s]</code>) and compare two versions later (<code>[Ctrl + r]</code>) ... Backups and other functions will be covered later in the tutorial.</p>
    <p>You can create as many documents as you want. All you need to do is to go to <code>clearly.pl/&lt;document name&gt;</code> and new document will be created. Be careful with document names - if you loose them, the document might become inaccessible. Also even slight change in document name results in loading different documents. This can be useful - for example if you need a place to store some secrets&hellip;</p>
    <p>Document in <span style="font-family:Lobster">Clearly</span> is <em>structured</em> - every block of text is wrapped inside a
      paragraph. Paragraphs are grouped inside <em>sections</em>. They look like this:</p>
    <section>
      <p>This is a paragraph inside a section.</p>
      <p>Sections can be nested:</p>
      <section>
	<p>Besides sections, the content can be grouped in <em>lists</em>:</p>
	<ul>
	  <li>A</li>
	  <li>B</li>
	  <li>C</li>
	</ul>
	<p>&hellip; which can be also ordered:</p>
	<ol>
	  <li>A</li>
	  <li>B</li>
	  <li>C</li>
	</ol>
      </section>
    </section>
    <p>You can also use horizontal lines:</p>
    <hr>
    <blockquote>Quoted text</blockquote>
    <pre>Fixed-width text</pre>
    <h3>Headers</h3>
    <h5>&hellip; at various levels.</h5>
    <p class=done>To make task-tracking easier, every element can also be marked with <em>todo states</em> (<em>tip:</em> use <code>[Tab]</code> to cycle through them).</p>
    </section>
    <section>
      <h2>Navigation</h2>
      <p>The whole editor is actually a webpage. You can scroll it with scrollbar and mouse
	wheel.</p>
      <p>One HTML element is always selected - its left border is slightly
	thicker and darker. Text elements, while selected, have small visual
	hints at the end indicating, what type of element is this.</p>
      <p>When you click on an element it gets activated. Watch out not to 
	click it twice though - it would start <code>edit mode</code>. You can leave edit
	mode with <code>[Escape]</code> or by clicking outside currently edited element.
      <p>You can <em>use arrows to navigate</em> (<code>[&larr;] [&rarr;] [&uarr;] [&darr;]</code>) between next/previous elements
	and to ascend/descent in their hierarchy. This way of navigating through text is called <em>tree navigation</em>.</p>
      <p>You navigate inside the webpage as it was a tree. Hold down 
	<code>[Ctrl]</code> and press <code>[&uarr;]</code>/<code>[&darr;]</code> to walk across elements at 
	different levels as if they were placed one after another. This is
	called <em>list navigation</em>.</p>
      <p><code>[Home]</code> and <code>[End]</code> keys will move you to the first and last element in the current section. Holding down <code>[Ctrl]</code> will cause you to move to start and end of the document.</p>
    </section>
    <section>
      <h2>Structure Manipulation</h2>
      <p>Select an element and press one of the digit keys from <code>[1]</code> to <code>[6]</code>. You can create headers this way.</p>
      <p>If you want to turn a header back to a paragraph, press the <code>[p]</code> key while the header is selected.</p>
      <p>Press <code>[Delete]</code> with an element selected to remove it from the page. Elements removed this way are not lost - they are put into <em>killring</em> instead.</p>
      <p>You can retrieve an element from killring and paste it <em>after</em> current element by pressing <code>[Insert]</code>. Press <code>[Shift + Insert]</code> to add it before active element.</p>
      <p>If you press <code>[Ctrl + \]</code> you will insert new horizontal rule after selected element. Hold <code>Shift</code> to add it before instead.</p>
      <p>You can <em>hide elements</em> by pressing the <code>[h]</code> key. Pressing it again will show the element back. It allows you to compact sections that are not important.</p>
      <p>Press <code>[Ctrl + Shift + &rarr;]</code> to <em>wrap</em> active element with a section.</p>
      <p>Similarily <code>[Ctrl + Shift + &larr;]</code> will cause the element to <em>unwrap</em> parent section.</p>
      <p>Holding down <code>[Shift]</code> while pressing <code>[&uarr;]</code> and <code>[&darr;]</code> will cause current element to <em>bubble</em>. You can supply this command with <code>[Ctrl]</code> to <em>bubble</em> accross other element boundaries. Use bubbling to reorder large parts of your document - move paragraphs, lists &amp; sections accross the document.</p>
    </section>

    <section>
      <h2><samp style="font-weight:bold;">TODO</samp> Lists</h2>
      <p><span style="font-family:Lobster">Clearly</span> allows you to store and manage multiple task lists by annotating elements with <em>task states</em> (todo, cancelled, done, etc.).</p>
      <p>Press <code>[Tab]</code> to change task state of the active element.</p>
      <p>You can press it a few times - it cycles all possible states.</p>
      <p><code>[Shift + Tab]</code> cycles todo states backwards.</p>
      <p>Under the hood, todo state management is done by <code>todo mode</code>. A nice feature of this is that <code>todo mode</code> is active during navigation & editing so you can use <code>[Tab]</code> also while writing.</p>
    </section>

    <section>
      <h2>Backups & Restoring</h2>
      <p>Unfortunately, <span style="font-family:Lobster">Clearly</span> doesn't yet support undo mechanism for changes done in navigation mode (shuffling and removing elements). To stay safe you should use <em>backups</em>.</p>
      <p><code>[Ctrl + s]</code> creates new backup for current page. Backup is created as a new page with <code>~</code> (tilde) added to path (backup for <code>clearly.pl/tutorial/</code> is saved at <code>clearly.pl/tutorial/~</code>).</p>
      <p><code>[Ctrl + r]</code> <em>reverts to backup</em>. This command <em>swaps</em> current document with a backup. If no backup is avaiable - the document is reverted to its original state (this way you can for example revert changes made in this tutorial).</p>
      <p><code>[Ctrl + Shift + r]</code> removes backup and saved page. Reverts document to its original state. Dangerous.</p>
    </section>

    <section class=compact>
      <h2>All kinds of elements...</h2>
      <p>You can use several element types. They are divided into <em>grouping elements</em> and <em>simple elements</em></p>
      <h4>Sections</h4>
      <p>Basic grouping element. Its only purpose is to bind some content
	together for easier manipulation and increased readability.</p>
      <p>You can wrap element in section using <code>[Ctrl + Shift + &rarr;]</code>. Unwrapping is done by <code>[Ctrl + Shift + &larr;]</code>.</p>
      <p>You can turn lists into sections by pressing <code><strong>[e]</strong></code>. Pressing <code>[Ctrl + e]</code> will create new section with a single paragraph & start edit mode.</p>
      <p>Section boundaries restrict your movement and other commands. Hold <code>[Ctrl]</code> to bypass section boundaries - walk and bubble other elements accross them.</p>
      <h4>Paragraphs</h4>
      <p>Single most ubiquitous element. Use it to type all the basic stuff that you are working on. Paragraphs, when selected, are marked with decorative paragraph sign.</p>
      <h4>Lists</h4>
      <p>Lists are grouping elements - just like sections. Unlike sections, lists can contain only list items. They are more compact than sections and should be used to enumerate content.</p>
      <p>There are two kinds of lists: <em>ordered</em> <code>[o]</code>, and <em>unordered</em> <code>[u]</code>. You can press appropiate key to convert active section to list of desired kind. Watch out though - this conversion flattens section content. When you supply conversion key with <code>[Ctrl]</code>, a new list with a single element is created.</p>
      <h4>Headers</h4>
      <p>Headers are designed to stand out in text and signal you most important parts. While selected, they are marked with <em>sharp sign</em> and their level.</p>
      <p>You can convert any text element to header using number keys: <code>[1] &hellip; [6]</code>. To create new elements hold <code>[Ctrl]</code> while pressing number key.</p>
      <h4>Horizontal Rules</h4>
      <p>Horizontal rules can separate sets of paragraphs to signal more major topic change.</p>
      <p>There is no element that could be converted into horizontal rule - you can only create, destroy and move them around. You can use <code>[Ctrl + \]</code> to create new rule after current element.</p>
      <h4>Blockquote</h4>
      <p>Blockquotes can be used to include some decorative text and focus attention. By default it is surrounded by decorative quotation marks.</p>
      <p>Blockquotes can be created by <code>[Ctrl + b]</code>. You can convert any other text element into blockquote by pressing <code>[b]</code> while it's active.</p>
      <h4>Preformatted text</h4>
      <p>Preformatted text is a nice way of including source code or text files in the text flow. It preserves whitespace and uses monospace font.</p>
      <p>Preformatted text can be created by <code>[Ctrl + ;]</code>. Other text elements can be converted by simple <code>[;]</code></p>
    </section>
    <section>
      <h2>Keyboard Cheatsheet</h2>
      <section>
      <table>
	<tr><td><code>[&uarr;], [&rarr;], [&darr;], [&larr;]</code></td><td>tree navigation</td></tr>
	<tr><td><code>[Ctrl + &uarr;], [Ctrl + &darr;]</code></td><td>list navigation</td></tr>
	<tr><td><code>[Shift + </code><em>navigation</em><code>]</code></td><td>drag element around</td></tr>
	<tr><td><code>[Ctrl + Shift + &rarr;/&larr;]</code></td><td>wrap or unwrap element with a section</td></tr>
	<tr><td><code>[Tab], [Shift + Tab]</code></td><td>change todo state</td></tr>
	<tr><td><code>[h]</code></td><td>toggle hidden state</td></tr>
	<tr><td><code>[Ctrl + s]</code></td><td>backup current document</td></tr>
	<tr><td><code>[Ctrl + r]</code></td><td>restore backed up document (swapping with current)</td></tr>
	<tr><td><code>[Ctrl + Shift + r]</code></td><td>revent document & remove backup</td></tr>
      </table>
      </section>
      <h3>Element Types</h3>
      <section>
      <table>
	<tr><td><code>[e]</code></td><td>section</td></tr>
	<tr><td><code>[o]</code></td><td>ordered list</td></tr>
	<tr><td><code>[u]</code></td><td>unordered list</td></tr>
	<tr><td><code>[p]</code></td><td>paragraph</td></tr>
	<tr><td><code>[1] &hellip; [6]</code></td><td>headers</td></tr>
	<tr><td><code>[\]</code></td><td>horizontal rule</td></tr>
	<tr><td><code>[b]</code></td><td>block quote</td></tr>
	<tr><td><code>[;]</code></td><td>preformatted text</td></tr>
      </table>
      <p><em>Element key alone</em> - converts active element (if possible).</p>
      <p><em>Element key<code> + Ctrl</code></em> - creates new element after active and starts edit mode.</p>
      <p><em>Element key<code> + Ctrl + Shift</code></em> - creates new element <em>before</em> active.</p>
      </section>
    </section>
    <section>
      <h2>Text Editing</h2>
      <p>Press <code>[Enter]</code> anytime to start editing active element.</p>
      <p>To speed things up, you can make new elements by pressing <code>[Ctrl + Enter]</code>. This command chooses element type based on the currently active element. When it is section - it will create new paragraph inside. When in the list - new list item. New item also checks if previous one is marked with todo state and sets current to "TODO" if it is.</p>
      <p>While in edit mode, the left border is marked red and visual hints which indicate element type are opaque.</p>
      <p>To exit edit mode press <code>[Escape]</code> or click on another elment.</p>
      <p>Pressing <code>[Enter]</code> while in edit mode will create new paragraph. Note that empty paragraphs are automatically destroyed when leaving edit mode.</p>
      <h3>Text Formatting</h3>
      <p><em>While in edit mode</em>, you can format selected text by pressing <code>[Ctrl + _]</code>, where <code>_</code> is one of:</p>
      <ul>
	<li><code>[Escape]</code> - Remove formatting from selected text.</li>
	<li><code>[b]</code> - Bold text.</li>
	<li><code>[i]</code> - Italic text.</li>
	<li><code>[u]</code> - Underline.</li>
	<li><code>[s]</code> - Strike through.</li>
	<li><code>[&uarr;]</code> - Superscript.</li>
	<li><code>[&darr;]</code> - Subscript.</li>
	<li><code>[e]</code> - Turn selected text into link (you will be asked for URL).</li>
	<li><code>[-]</code> - Decrease font size.</li>
	<li><code>[+]</code> - Increase font size.</li>
      </ul>
    </section>
  </body>
</html>

